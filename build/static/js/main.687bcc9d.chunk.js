(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(58)},36:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(8),o=a.n(s),r=(a(36),a(28)),c=a(12),l=a(13),m=a(16),p=a(14),d=a(17),h=a(60),g=a(61),u=a(62),v=a(76),b=a(63),f=a(64),E=a(65),w=a(66),D=a(67),O=a(68),y=a(69),H=a(70),k=a(71),N=a(72),T=a(73),x=a(74),S=a(75),I=a(3),M=a.n(I),W=a(29),j=a.n(W),C=a(20),P=a.n(C),A=(a(47),{data:"Allagash,25,1\nDogfish,23,1\nFlying Dog,22,1\nFounders,21,1\nStone,20,1\nBells,19,1\nVictory,18,1\n21st Amendment,17,1\nYards,16,1\nLagunitas,15,1\nBrooklyn,14,1\nDuvel,13,1\nRogue,12,1\nFull Sail,11,1\nLeft Hand,10,1\nChevy,25,2\nFord,23,2\nDodge,22,2\nBMW,21,2\nMercedes,20,2\nVW,19,2\nPorsche,18,2\nAudi,17,2\nJeep,16,2\nAcura,15,2\nHonda,14,2\nToyota,13,2\nBugatti,12,2\nFerrari,11,2\nJaguar,10,2",colormap:"nmf_16_component_colormap"}),F=a(10),z=a(11),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderData=function(){Object(F.a)(Object(F.a)(a));var e=a.state.svgMargin,t=parseInt(a.state.svgWidth),n=parseInt(a.state.svgHeight),i=(z.b().range(["#7A99AC","#E4002B"]),z.c("svg"));i&&i.remove();z.c("#bubblePlot").append("svg").attr("width",t+parseInt(e.left)+parseInt(e.right)).attr("height",n+parseInt(e.top)+parseInt(e.bottom)).append("g").attr("transform","translate("+e.left+","+e.top+")");var s="text,size,group\n"+a.state.data,o=z.a.parse(s);o.forEach(function(e){e.size=+e.size});var r=[];o.forEach(function(e){r.contains(e.group)||r.push(e.group)})},a.state={data:a.props.data,svgWidth:600,svgHeight:600,svgMargin:{top:0,right:0,bottom:0,left:0}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.data!==e.data?(console.log("data changed"),this.renderData()):this.props.svgWidth===e.svgWidth&&this.props.svgHeight===e.svgHeight||(console.log("svgWidth or svgHeight changed"),this.state.data&&this.setState({svgWidth:this.props.svgWidth,svgHeight:this.props.svgHeight},function(){this.renderData()}))}},{key:"render",value:function(){return console.log("render()"),i.a.createElement("div",{id:"bubblePlot"})}}]),t}(i.a.Component),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateViewportDimensions=function(){var e=window.innerHeight+"px",t=window.innerWidth+"px",n=parseInt(parseFloat(window.innerHeight)-195)+"px";a.setState({height:e,width:t,contentParentHeight:n},function(){console.log("W x H",a.state.width,a.state.height),console.log("Content parent H",a.state.contentParentHeight)})},a.toggleTab=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})},a.toggleMenu=function(){a.setState({isMenuOpen:!a.state.isMenuOpen})},a.copySliderDataToApplicationData=function(){a.setState({applicationData:a.state.sliderData})},a.state={activeTab:"1",isMenuOpen:!1,isPaneOpen:!1,applicationData:A.data,sliderData:A.data,height:e.height,width:e.width,contentParentHeight:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.setAppElement(this.el),setTimeout(function(){e.updateViewportDimensions()},100),window.addEventListener("resize",this.updateViewportDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportDimensions)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"application",ref:function(t){return e.el=t}},i.a.createElement("div",{className:"header"},i.a.createElement(h.a,{color:"dark",dark:!0,expand:"md"},i.a.createElement(g.a,{href:"/"},i.a.createElement("img",{src:"./logo-inverse.svg",className:"brand-content-logo",alt:"altius-logo",href:"https://www.altius.org"})," Index NMF Summary"),i.a.createElement(u.a,{onClick:this.toggleMenu}),i.a.createElement(v.a,{isOpen:this.state.isMenuOpen,navbar:!0},i.a.createElement(b.a,{className:"ml-auto",navbar:!0},i.a.createElement(f.a,null,i.a.createElement(E.a,{color:"primary",size:"sm",onClick:function(){e.setState({isPaneOpen:!0}),document.activeElement.blur()}},"Data"))))),i.a.createElement(b.a,{tabs:!0,className:"tab-nav"},i.a.createElement(f.a,null,i.a.createElement(w.a,{className:M()({active:"1"===this.state.activeTab}),onClick:function(){e.toggleTab("1")}},"Genome-wide")),i.a.createElement(f.a,null,i.a.createElement(w.a,{className:M()({active:"2"===this.state.activeTab}),onClick:function(){e.toggleTab("2")}},"Chromosome")))),i.a.createElement(D.a,{activeTab:this.state.activeTab,className:"tab-content"},i.a.createElement(O.a,{tabId:"1"},i.a.createElement(y.a,null,i.a.createElement(H.a,{sm:"12"},i.a.createElement("h4",null,"Index elements, by strongest NMF assignment (genome-wide)"),i.a.createElement("div",{className:"svg-container"},i.a.createElement(y.a,{style:{height:this.state.contentHeight,zIndex:"-1000"}},i.a.createElement(H.a,{xs:"10",className:"gw-left"},i.a.createElement(B,{data:this.state.applicationData,svgWidth:this.state.contentParentHeight,svgHeight:this.state.contentParentHeight})),i.a.createElement(H.a,{xs:"2",className:"gw-right"},"RIGHT")))))),i.a.createElement(O.a,{tabId:"2"},i.a.createElement(y.a,null,i.a.createElement(H.a,{sm:"12"},i.a.createElement("h4",null,"Index elements, by strongest NMF assignment (per chromosome)"))))),i.a.createElement(j.a,{className:"sliding-pane-custom",isOpen:this.state.isPaneOpen,title:"Data",onRequestClose:function(){e.setState({isPaneOpen:!1},function(){e.copySliderDataToApplicationData()})}},i.a.createElement("div",null,i.a.createElement(k.a,null,i.a.createElement(N.a,null,i.a.createElement(T.a,{for:"applicationDataTextarea"},"Application Data"),i.a.createElement(x.a,{type:"textarea",name:"sliderData",id:"applicationDataTextarea",className:"application-data-textarea",value:this.state.sliderData,onChange:function(t){var a=t.target.value,n=t.target.name;e.setState(Object(r.a)({},n,a))}}),i.a.createElement(S.a,{color:"muted"},"JSON-formatted object containing a breakdown of NMF set and subset membership")),i.a.createElement(E.a,{color:"primary",size:"sm",onClick:function(){e.setState({isPaneOpen:!1},function(){e.copySliderDataToApplicationData()}),document.activeElement.blur()}},"Update")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(56);o.a.render(i.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.687bcc9d.chunk.js.map